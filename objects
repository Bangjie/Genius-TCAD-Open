OBJ =  parser/key.o \
       parser/pattern.o  \
       parser/parser.o   \
       parser/file_include.o   \
       parser/pattern_xml.o   \
       base/dof_object.o \
       base/genius_env.o \
       base/log.o \
       base/perf_log.o   \
       fe/fe_base.o                  \
       fe/fe.o                       \
       fe/fe_lagrange.o              \
       fe/fe_lagrange_shape_0D.o     \
       fe/fe_lagrange_shape_1D.o     \
       fe/fe_lagrange_shape_2D.o     \
       fe/fe_lagrange_shape_3D.o     \
       fe/fe_map.o                   \
       quadrature/quadrature_build.o    \
       quadrature/quadrature.o          \
       quadrature/quadrature_gauss_1D.o \
       quadrature/quadrature_gauss_2D.o \
       quadrature/quadrature_gauss_3D.o \
       quadrature/quadrature_gauss.o    \
       quadrature/quadrature_jacobi_1D.o\
       contrib/tif/tif_tool.o \
       contrib/dfise/dfise.o \
       contrib/mxml/MXMLUtil.o \
       contrib/silvaco/silvaco.o\
       contrib/spice/spice_ckt.o\
       contrib/spline/spline.o\
       interpolation/interpolation_1d.o\
       interpolation/interpolation_2d_csa.o\
       interpolation/interpolation_3d_qshep.o\
       interpolation/interpolation_3d_nbtet.o\
       mesh/boundary_info.o   \
       mesh/boundary_mesh.o   \
       mesh/mesh_base.o       \
       mesh/serial_mesh.o     \
       mesh/serial_mesh_iterators.o \
       mesh/mesh_communication.o    \
       mesh/mesh_tools.o            \
       mesh/unstructured_mesh.o     \
       mesh/mesh_refinement.o       \
       mesh/mesh_refinement_smoothing.o \
       mesh/mesh_refinement_flagging.o  \
       mesh/mesh_modification.o         \
       math/expr_evaluate.o       \
       math/dense_vector_base.o   \
       math/dense_vector.o        \
       math/dense_matrix_base.o   \
       math/dense_matrix.o        \
       math/type_vector.o   \
       math/type_tensor.o   \
       math/adolc_init.o    \
       math/petsc_utils.o   \
       math/petsc_type.o    \
       partition/partitioner.o        \
       partition/metis_partitioner.o  \
       solution/simulation_system.o   \
       solution/simulation_region.o   \
       solution/pml_region.o          \
       solution/semiconductor_region.o\
       solution/insulator_region.o    \
       solution/conductor_region.o    \
       solution/vacuum_region.o       \
       solution/boundary_condition.o  \
       solution/boundary_condition_collector.o  \
       solution/fvm_node_info.o   \
       solution/fvm_node_data.o   \
       solution/fvm_cell_data.o   \
       solution/solution_define.o \
       solution/control.o         \
       solution/vtk_io.o          \
       solution/cgns_io.o         \
       solution/silvaco_io.o      \
       solution/tif_io.o          \
       solution/dfise_io.o        \
       solution/gdml_io.o         \
       solution/location_io.o     \
       material/physical_unit.o   \
       material/material_define.o \
       material/material.o        \
       material/PMI.o        \
       solver/solver_specify.o    \
       solver/solver_base.o \
       solver/fvm_pde_solver.o        \
       solver/fvm_nonlinear_solver.o  \
       solver/fvm_linear_solver.o     \
       solver/fem_pde_solver.o        \
       solver/fem_linear_solver.o     \
       solver/doping_analytic/doping_analytic.o   \
       solver/mole_analytic/mole_analytic.o       \
       solver/poisson/poisson.o                   \
       solver/poisson/poisson_semiconductor.o     \
       solver/poisson/poisson_semiconductor_hanging_node.o\
       solver/poisson/poisson_insulator.o                 \
       solver/poisson/poisson_insulator_hanging_node.o    \
       solver/poisson/poisson_conductor.o                 \
       solver/poisson/poisson_conductor_hanging_node.o    \
       solver/poisson/poisson_boundary_ohmic.o            \
       solver/poisson/poisson_boundary_schottky.o         \
       solver/poisson/poisson_boundary_gate.o             \
       solver/poisson/poisson_boundary_simple_gate.o      \
       solver/poisson/poisson_boundary_is_interface.o     \
       solver/poisson/poisson_boundary_ei_interface.o     \
       solver/poisson/poisson_boundary_ii_interface.o     \
       solver/poisson/poisson_boundary_homo_interface.o   \
       solver/poisson/poisson_boundary_hetero_interface.o \
       solver/poisson/poisson_boundary_float_metal.o      \
       solver/ddm_common/ddm_solver.o               \
       solver/ddm_common/mixA_solver.o              \
       solver/ddm_common/inter_connect.o            \
       solver/ddm1/ddm1.o                           \
       solver/ddm1/ddm1_semiconductor.o             \
       solver/ddm1/ddm1_semiconductor_hanging_node.o\
       solver/ddm1/ddm1_insulator.o                 \
       solver/ddm1/ddm1_insulator_hanging_node.o    \
       solver/ddm1/ddm1_conductor.o                 \
       solver/ddm1/ddm1_conductor_hanging_node.o    \
       solver/ddm1/ddm1_boundary_ohmic.o            \
       solver/ddm1/ddm1_boundary_schottky.o         \
       solver/ddm1/ddm1_boundary_gate.o             \
       solver/ddm1/ddm1_boundary_simple_gate.o      \
       solver/ddm1/ddm1_boundary_is_interface.o     \
       solver/ddm1/ddm1_boundary_ei_interface.o     \
       solver/ddm1/ddm1_boundary_ii_interface.o     \
       solver/ddm1/ddm1_boundary_homo_interface.o   \
       solver/ddm1/ddm1_boundary_hetero_interface.o \
       solver/ddm1/ddm1_boundary_float_metal.o      \
       solver/ddm2/ddm2.o                           \
       solver/ddm2/ddm2_semiconductor.o             \
       solver/ddm2/ddm2_semiconductor_hanging_node.o\
       solver/ddm2/ddm2_insulator.o                 \
       solver/ddm2/ddm2_insulator_hanging_node.o    \
       solver/ddm2/ddm2_conductor.o                 \
       solver/ddm2/ddm2_conductor_hanging_node.o    \
       solver/ddm2/ddm2_boundary_neumann.o          \
       solver/ddm2/ddm2_boundary_ohmic.o            \
       solver/ddm2/ddm2_boundary_schottky.o         \
       solver/ddm2/ddm2_boundary_gate.o             \
       solver/ddm2/ddm2_boundary_simple_gate.o      \
       solver/ddm2/ddm2_boundary_is_interface.o     \
       solver/ddm2/ddm2_boundary_ei_interface.o     \
       solver/ddm2/ddm2_boundary_ii_interface.o     \
       solver/ddm2/ddm2_boundary_homo_interface.o   \
       solver/ddm2/ddm2_boundary_hetero_interface.o \
       solver/ddm2/ddm2_boundary_float_metal.o      \
       solver/ebm3/ebm3.o                           \
       solver/ebm3/ebm3_semiconductor.o             \
       solver/ebm3/ebm3_semiconductor_jacob.o       \
       solver/ebm3/ebm3_semiconductor_hanging_node.o\
       solver/ebm3/ebm3_insulator.o                 \
       solver/ebm3/ebm3_insulator_hanging_node.o    \
       solver/ebm3/ebm3_conductor.o                 \
       solver/ebm3/ebm3_conductor_hanging_node.o    \
       solver/ebm3/ebm3_boundary_neumann.o          \
       solver/ebm3/ebm3_boundary_ohmic.o            \
       solver/ebm3/ebm3_boundary_schottky.o         \
       solver/ebm3/ebm3_boundary_gate.o             \
       solver/ebm3/ebm3_boundary_simple_gate.o      \
       solver/ebm3/ebm3_boundary_ei_interface.o     \
       solver/ebm3/ebm3_boundary_ii_interface.o     \
       solver/ebm3/ebm3_boundary_is_interface.o     \
       solver/ebm3/ebm3_boundary_homo_interface.o   \
       solver/ebm3/ebm3_boundary_hetero_interface.o \
       solver/ebm3/ebm3_boundary_float_metal.o      \
       solver/hall/hall.o                           \
       solver/hall/hall_semiconductor.o             \
       solver/hall/hall_insulator.o                 \
       solver/hall/hall_conductor.o                 \
       solver/mix_common/mix_common.o               \
       solver/mix1/mix1.o                           \
       solver/mix1/mix1_boundary_ohmic.o            \
       solver/mix1/mix1_boundary_schottky.o         \
       solver/mix1/mix1_boundary_gate.o             \
       solver/mix2/mix2.o                           \
       solver/mix2/mix2_boundary_ohmic.o            \
       solver/mix2/mix2_boundary_schottky.o         \
       solver/mix2/mix2_boundary_gate.o             \
       solver/mix3/mix3.o                           \
       solver/mix3/mix3_boundary_ohmic.o            \
       solver/mix3/mix3_boundary_schottky.o         \
       solver/mix3/mix3_boundary_gate.o             \
       solver/mixA1/mixA1.o                         \
       solver/mixA1/mixA1_boundary_ohmic.o          \
       solver/mixA1/mixA1_boundary_schottky.o       \
       solver/mixA1/mixA1_boundary_gate.o           \
       solver/mixA2/mixA2.o                         \
       solver/mixA2/mixA2_boundary_ohmic.o          \
       solver/mixA2/mixA2_boundary_schottky.o       \
       solver/mixA2/mixA2_boundary_gate.o           \
       solver/mixA3/mixA3.o                         \
       solver/mixA3/mixA3_boundary_ohmic.o          \
       solver/mixA3/mixA3_boundary_schottky.o       \
       solver/mixA3/mixA3_boundary_gate.o           \
       solver/stress_solver/stress_solver.o         \
       solver/ddm_ac/ddm_ac.o                       \
       solver/ddm_ac/ddmac_semiconductor.o          \
       solver/ddm_ac/ddmac_insulator.o              \
       solver/ddm_ac/ddmac_conductor.o              \
       solver/ddm_ac/ddmac_boundary_neumann.o       \
       solver/ddm_ac/ddmac_boundary_ohmic.o         \
       solver/ddm_ac/ddmac_boundary_schottky.o      \
       solver/ddm_ac/ddmac_boundary_gate.o          \
       solver/ddm_ac/ddmac_boundary_ei_interface.o  \
       solver/ddm_ac/ddmac_boundary_ii_interface.o  \
       solver/ddm_ac/ddmac_boundary_is_interface.o  \
       solver/ddm_ac/ddmac_boundary_simple_gate.o   \
       solver/ddm_ac/ddmac_boundary_homo_interface.o\
       solver/ddm_ac/ddmac_boundary_hetero_interface.o\
       solver/ddm_ac/ddmac_boundary_float_metal.o   \
       solver/emfem2d/emfem2d.o                     \
       solver/ray_tracing/object_tree.o             \
       solver/ray_tracing/ray_tracing.o             \
       hook/dlhook.o                 \
       source/electrical_source.o    \
       source/field_source.o         \
       source/particle_source.o      \
       source/light_source.o         \
       utils/point_locator_base.o    \
       utils/point_locator_list.o    \
       utils/point_locator_tree.o    \
       utils/tree.o                  \
       utils/tree_node.o             \
       utils/error_vector.o          \
       utils/extend_to_3d.o          \
       utils/statistics.o            \
       utils/location_maps.o         \
       utils/sync_file.o             \
       utils/show_mesh_2d.o



ifeq ($(SYSTEM),CYGWIN)
  OBJ := $(OBJ)              \
         hook/cv_hook.o      \
         hook/gnuplot_hook.o \
         hook/rawfile_hook.o \
         hook/shell_hook.o   \
         hook/vtk_hook.o     \
         hook/probe_hook.o
endif

# we have to static link visit hook by now.
ifeq ($(enable-visit),yes)
    OBJ := $(OBJ)  hook/visit_hook.o
endif


LIB_OBJ  = geom/libgeom$(static_libext)           \
           meshgen/libmeshgen$(static_libext)     \
           contrib/metis/libmetis$(static_libext) \
           contrib/triangle/libtriangle$(static_libext) \
           contrib/csabathy/libcsa$(static_libext)\
           contrib/expreval/libexpreval$(static_libext)\
           contrib/qshep/libqshep$(static_libext) \
           contrib/ann/libann$(static_libext) \
           contrib/mxml/libmxml$(static_libext)


LIBS = -Lgeom -lgeom                 \
       -Lmeshgen -lmeshgen           \
       -Lcontrib/metis  -lmetis      \
       -Lcontrib/triangle -ltriangle \
       -Lcontrib/csabathy -lcsa      \
       -Lcontrib/expreval -lexpreval \
       -Lcontrib/qshep -lqshep \
       -Lcontrib/ann -lann \
       -Lcontrib/mxml -lmxml

